# Phase 2.6: Economic Reboot Mechanism Specifications

## Overview

This document contains protocol-level specifications for 4 mechanisms that formalize the [Regen Economic Reboot Roadmap](https://forum.regen.network/t/regen-economic-reboot-roadmap/567) and the [Network Coordination Architecture](https://forum.regen.network/t/regen-tokenomics-wg/19/67). These mechanisms collectively transition $REGEN from an inflationary proof-of-stake model to a revenue-based governance utility model.

### Relationship to Existing Mechanisms

| New Mechanism | Supersedes / Modifies | Rationale |
|---------------|----------------------|-----------|
| M012 (Dynamic Supply) | M001 (Staking economics), M003 (Tx Fees) | Replaces inflation-based supply with algorithmic mint/burn |
| M013 (Fee Routing) | M003 (Transaction Fees) | Replaces flat gas with value-based % fees |
| M014 (PoA Governance) | M001 (Staking), M002 (Governance Voting) | Replaces capital-weighted with contribution-weighted governance |
| M015 (Contribution Rewards) | M005 (Community Pool distribution) | Replaces passive staking rewards with activity-based distribution |

### Source Documents

- [Fixed Cap, Dynamic Supply (forum/34)](https://forum.regen.network/t/fixed-cap-dynamic-supply/34)
- [PoA Consensus RFC (forum/70)](https://forum.regen.network/t/regen-network-proof-of-authority-consensus-rfc/70)
- [Economic Reboot Roadmap v0.1 (forum/567)](https://forum.regen.network/t/regen-economic-reboot-roadmap-v0-1/567)
- [Tokenomics WG Recap Jan 27 2026 (forum/19#64)](https://forum.regen.network/t/regen-tokenomics-wg/19/64)
- [Network Coordination Architecture (forum/19#67)](https://forum.regen.network/t/regen-tokenomics-wg/19/67)
- [Draft Comprehensive Proposal (Notion)](https://www.notion.so/regennetwork/Draft-Comprehensive-Proposal-Regen-Network-Governance-Economic-Architecture-Upgrade-2fb25b77eda180af8742debdfaed0b3c)
- [Token Economics Synthesis](../docs/economics/token-economics-synthesis.md)
- [Max Semenchuk Model Comparison](https://maxsemenchuk.github.io/regen-model-comparison/)

---

## PROTOCOL SPECIFICATION: M012

### Fixed Cap Dynamic Supply

#### Purpose
Replace the current inflationary proof-of-stake supply model with a hard-capped, algorithmically managed supply that ties token minting and burning to real ecological activity on the network. Inspired by Blockscience's carrying capacity model and Ethereum's EIP-1559 burn mechanics, but designed to create genuine homeostatic equilibrium between minting and burning — something EIP-1559 does not achieve.

#### Design Philosophy
> "Fixed cap plus dynamic supply is the best of both worlds — long-term policy certainty like gold's fixed supply, with adaptability like Federal Reserve fiat models." — Zargham (Blockscience)

The ecological metaphor: a fixed cap mirrors **carrying capacity** — nature's upper limit for population/resource within an ecosystem. Supply can contract and expand within the cap, but never exceed it.

#### Participants
| Role | Description | Token Interaction |
|------|-------------|-------------------|
| Network | Protocol-level supply controller | Executes mint/burn algorithm |
| Fee Payers | Users paying value-based fees | Source of burn input (via M013) |
| Validators | Authority validators (via M014) | Receive compensation from fee revenue, not inflation |
| Governance | Token holders via governance vote | Set/adjust supply parameters |

#### Supply Algorithm

```
S[t+1] = S[t] + M[t] - B[t]

where:
  S[t]  = circulating supply at period t
  M[t]  = tokens minted in period t (regrowth)
  B[t]  = tokens burned in period t (from fees via M013)
  C     = hard cap (≈ 221M REGEN)

Minting (regrowth):
  M[t] = r × (C - S[t])

  where r = regrowth rate, dynamically adjusted:
    r = r_base × staking_multiplier × ecological_multiplier

  r_base = 0.02 (2% base regrowth rate per period)

  staking_multiplier = 1 + (S_staked / S_total)
    range: [1.0, 2.0]
    effect: higher staking participation → faster regrowth

  Post-PoA variant (activated with M014):
    staking_multiplier is replaced by stability_multiplier:
    stability_multiplier = 1 + (S_stability_committed / S_total)
      range: [1.0, 2.0]
      effect: higher stability tier commitment → faster regrowth
      source: M015 stability tier commitments

    Transition logic (M014 Phase 2-3):
      During the PoA transition window, both multipliers are computed
      and the higher value is selected via a simple max() function:

        effective_multiplier = max(staking_multiplier, stability_multiplier)

      This prevents a regrowth discontinuity as S_staked declines during
      the unbonding period while S_stability_committed ramps up.

      Phase-gated behavior:
        - Pre-M014 activation:  effective_multiplier = staking_multiplier
        - M014 Phase 1-2 (coexistence): effective_multiplier = max(staking, stability)
        - M014 Phase 3+ (PoS disabled):  effective_multiplier = stability_multiplier
          (staking_multiplier removed from computation; S_staked = 0)

      The phase gate is determined by the M014 module state:
        - if m014.state == INACTIVE:     use staking_multiplier only
        - if m014.state == TRANSITION:   use max(staking, stability)
        - if m014.state in {ACTIVE, EQUILIBRIUM}: use stability_multiplier only

  ecological_multiplier = max(0, 1 - (ΔCO₂ / reference_value))
    range: [0.0, 1.0+]
    reference_value = 50 ppm (configurable)
    effect: improving ecological metrics → faster regrowth;
            worsening metrics → regrowth slows toward zero but does not invert
    NOTE: ecological_multiplier is floored at 0 to prevent negative minting.
          Supply contraction occurs exclusively through burning (B[t]),
          not through negative regrowth. This separation maintains
          Mint-Burn Independence (Security Invariant 4).
    NOTE: ecological_multiplier requires oracle integration;
          v0 deployment MAY use 1.0 (disabled) until reliable oracle exists

Burning:
  B[t] = sum of burn_share × fee for all fee-generating transactions in period t
  (burn routing defined in M013)

Key property: As S[t] → C, minting naturally decelerates toward zero.
             Supply can only exceed current levels through minting;
             supply can only decrease through burning.
             System reaches equilibrium when M[t] = B[t].
```

#### State Transitions
```
States: {INFLATIONARY, TRANSITION, DYNAMIC, EQUILIBRIUM}

INFLATIONARY → TRANSITION
  trigger: governance.approve(m012_activation_proposal)
  guard: M013 fee routing active, M014 PoA active
  action: set hard_cap, disable inflation module, enable mint/burn module

TRANSITION → DYNAMIC
  trigger: first_burn_period_complete AND validators_compensated
  guard: fee_revenue > 0, burn_executed
  action: begin algorithmic mint/burn cycles

DYNAMIC → EQUILIBRIUM
  trigger: abs(M[t] - B[t]) < threshold for N consecutive periods
  guard: N >= 12 (12 months of near-balance)
  action: log equilibrium_reached, reduce monitoring frequency
  note: equilibrium is not permanent — external shocks can return to DYNAMIC
```

#### Governance Parameters
| Parameter | Initial Value | Governance Authority | Rationale |
|-----------|--------------|---------------------|-----------|
| `hard_cap` | 221,000,000 REGEN | Layer 4 (Constitutional) | Fundamental monetary policy; requires supermajority |
| `base_regrowth_rate` | 0.02 (2%) | Layer 3 (Human-in-Loop) | Significant economic impact; needs community deliberation |
| `staking_multiplier_enabled` | true | Layer 3 | Affects incentive structure |
| `ecological_multiplier_enabled` | false (v0) | Layer 3 | Requires oracle dependency; enable when ready |
| `ecological_reference_value` | 50 ppm | Layer 3 | Ecological sensitivity parameter |
| `min_burn_rate` | 0 | Layer 2 (Agentic + Oversight) | Safety floor; can be adjusted operationally |
| `period_length` | 1 epoch (~7 days) | Layer 2 | Operational cadence |

#### Security Invariants
1. **Cap Inviolability**: `S[t] <= hard_cap` at all times; no transaction may cause supply to exceed cap
2. **Non-Negative Supply**: `S[t] >= 0`; burn cannot reduce supply below zero
3. **Monotonic Cap**: `hard_cap` can only be changed via Layer 4 constitutional governance (67% supermajority)
4. **Mint-Burn Independence**: Minting and burning are computed independently; neither can block the other
5. **Parameter Bound Safety**: `r_base ∈ [0, 0.10]`; regrowth rate bounded to prevent runaway minting

#### Open Questions (for WG Resolution)

> **OQ-M012-1**: The exact hard cap value. Token-economics-synthesis says "≈ 221M" based on current total supply (~224M). Should the cap be set at current total supply, slightly below (to create immediate scarcity), or at a round number?

> **OQ-M012-2**: The ecological multiplier oracle. What data source provides ΔCO₂ or equivalent ecological metric? Is this sourced from on-chain attestation data (M008) or from an external oracle? The v0 spec disables this until resolved.

> **OQ-M012-3**: Period length for mint/burn cycles. Is per-epoch (weekly) the right cadence, or should it be per-block (like EIP-1559) for finer granularity?

> **OQ-M012-4**: Should burned tokens be permanently destroyed or sent to a reserve pool that can be re-minted under governance control?

> **OQ-M012-5**: Should the staking_multiplier be replaced by a stability_multiplier (from M015 commitments) or a validator_participation_multiplier (from M014 active set health)? The stability multiplier preserves the "reward commitment" intent; the validator multiplier links supply health to network security.

#### Implementation Notes
- **Module**: New `x/supply` module or parameter change to `x/mint`
- **Storage**: `SupplyState` (current supply, cap, parameters), `MintBurnRecord` (per-period history)
- **Events**: `EventSupplyMint`, `EventSupplyBurn`, `EventParameterUpdate`, `EventEquilibriumReached`
- **Migration**: Requires disabling current `x/mint` inflation schedule; one-time parameter migration
- **Dependencies**: M013 (fee routing provides burn input), M014 (PoA removes staking inflation dependency)
- **Ledger Upgrade**: Requires Regen Ledger upgrade proposal (governance proposal type: software-upgrade)

---

## PROTOCOL SPECIFICATION: M013

### Value-Based Fee Routing

#### Purpose
Replace the current flat gas fee model with value-proportional fees on ecological credit transactions, routing fee revenue to four purpose-specific pools that fund network operations without inflationary token emission.

#### Design Philosophy
> "A $10 credit and a $10,000 credit pay the same gas fee — this disconnects protocol revenue from the value it facilitates." — Tokenomics WG, Economic Reboot Roadmap

The fee model aligns protocol revenue with the ecological value flowing through the network, creating a sustainable funding model for validators, community governance, agent infrastructure, and supply management.

#### Participants
| Role | Description | Token Interaction |
|------|-------------|-------------------|
| Fee Payer | User initiating credit transaction | Pays % fee in REGEN (or allowed denom) |
| Burn Pool | Protocol supply reduction | Receives burn_share of fees → permanent burn |
| Validator Fund | Authority validator compensation | Receives validator_share of fees → fixed distribution |
| Community Pool | Governance-directed spending | Receives community_share of fees → proposal-based allocation |
| Agent Infra Fund | AI agent operations | Receives agent_share of fees → operational budget |

#### Fee Schedule
| Transaction Type | Current Fee | Proposed Fee | Rationale |
|------------------|-------------|-------------|-----------|
| Credit Issuance (`MsgCreateBatch`) | Flat gas (~0.01 REGEN) | 1-3% of credit value | Highest value event; primary revenue source |
| Credit Transfer (`MsgSend`) | Flat gas | 0.1% of credit value | Minimal friction for transfers |
| Credit Retirement (`MsgRetire`) | Flat gas | 0.5% of credit value | Exit fee; captures value at point of impact |
| Marketplace Trade (`MsgBuySellOrder`) | Flat gas | 1% of trade value | Standard marketplace fee |
| Non-credit transactions | Flat gas | Flat gas (unchanged) | Standard Cosmos SDK transactions unaffected |

#### Fee Distribution

```
For each fee-generating transaction:

  fee_amount = transaction_value × fee_rate[transaction_type]

  burn_pool       += fee_amount × burn_share
  validator_fund  += fee_amount × validator_share
  community_pool  += fee_amount × community_share
  agent_infra     += fee_amount × agent_share

  where burn_share + validator_share + community_share + agent_share = 1.0
```

#### Distribution Parameters

> **NOTE**: The WG has discussed two distribution models. Both are documented here for transparency; the WG must resolve which to adopt.

**Model A** (from token-economics-synthesis.md):
| Pool | Share | Purpose |
|------|-------|---------|
| Burn Pool | 30% | Supply reduction via M012 |
| Validator Fund | 40% | Fixed compensation for authority validators |
| Community Pool | 25% | Governance-directed spending |
| Agent Infrastructure | 5% | AI agent operational costs |

**Model B** (from Gregory's Network Coordination Architecture, forum/19#67):
| Pool | Share | Purpose |
|------|-------|---------|
| Burn Pool | 25-35% | Supply reduction via M012 |
| Validator Fund | 15-25% | Authority validator compensation |
| Community Pool | 50-60% | Contributor distribution via M015 |
| Agent Infrastructure | (included in Community Pool) | Not separated |

> **Note**: These are coordinated ranges — any valid configuration must satisfy Share Sum Unity (sum = 1.0). Not all combinations within ranges are valid. Example valid configurations: {25%, 15%, 60%}, {30%, 20%, 50%}, {35%, 15%, 50%}.

> **OQ-M013-1**: Which distribution model should be adopted? Model A provides a dedicated Agent Infrastructure fund; Model B routes a larger share through governance. A hybrid approach could use Model A's structure with Model B's community-weighted emphasis.

> **OQ-M013-5**: Should the Burn Pool exist at all, and if so, at what share?
>
> Both Model A and Model B assume 25-35% of fees are permanently burned. However, there is an active debate in the community about whether buy-back-and-burn is appropriate for Regen Network:
>
> **Case for reducing or eliminating burn** (contributor-first view):
> - Burning tokens primarily benefits holders through supply reduction — effectively a transfer of value to passive holders and speculators rather than active contributors.
> - Every token burned is a token that *could* have been distributed to validators, credit originators, verifiers, governance participants, or other parties who are actively building the network.
> - The ecological mission is better served by maximizing resources directed at people doing the work, not by creating token scarcity dynamics that attract speculative behavior.
> - Regen's value proposition should rest on real ecological impact, not tokenomic supply games.
>
> **Case for maintaining burn** (capital formation view):
> - Speculative investors provide early and potentially larger capital inflows than activity-based rewards alone can generate. Deflationary pressure gives investors confidence in long-term value.
> - A growing token price (partly driven by supply reduction) increases the purchasing power of all REGEN-denominated rewards, benefiting contributors indirectly.
> - Early-stage networks need capital to fund infrastructure, and speculative interest is a pragmatic funding mechanism that can bootstrap the network toward self-sustaining fee revenue.
> - Burn creates a credible commitment that the protocol won't inflate away token value.
>
> **Possible positions**: (A) Maintain burn at 25-35% as proposed, (B) Reduce burn to 5-10% as a minimal deflationary signal and redistribute the remainder to contributors, (C) Eliminate burn entirely and split among validator, community, and agent pools, (D) Make burn share dynamically adjustable based on network maturity — higher during early growth phase, declining as fee revenue becomes self-sustaining.

#### Token Flows
```
┌──────────────┐
│ Credit       │   fee = value × rate
│ Transaction  │ ─────────────────────────────────────────────────┐
└──────────────┘                                                  │
                                                                  ▼
                                                      ┌──────────────────┐
                                                      │  Fee Collector   │
                                                      │  Module          │
                                                      └──────────────────┘
                                                              │
                  ┌───────────────┬────────────────┬──────────┴──────────┐
                  │               │                │                     │
                  ▼               ▼                ▼                     ▼
          ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐
          │  Burn Pool   │ │  Validator   │ │  Community   │ │  Agent Infra │
          │  (→ M012     │ │  Fund        │ │  Pool        │ │  Fund        │
          │   burn)      │ │  (→ M014     │ │  (→ M015     │ │  (→ agent    │
          │              │ │   validators)│ │   rewards)   │ │   ops)       │
          └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘
```

#### State Transitions
```
States: {FLAT_GAS, TRANSITION, VALUE_BASED}

FLAT_GAS → TRANSITION
  trigger: governance.approve(m013_fee_proposal)
  guard: fee_collector_module deployed, pool addresses configured
  action: enable dual-fee mode (flat gas + value fees)
  note: transition period allows UI/tooling to adapt

TRANSITION → VALUE_BASED
  trigger: transition_period_expired(90 days) OR governance.accelerate()
  guard: fee_revenue > 0 for 30 consecutive days
  action: disable legacy flat gas for credit transactions, full value-based fees
```

#### Fee Value Calculation

```yaml
fee_calculation:
  # For marketplace trades, value is explicit (sell order price × quantity)
  marketplace_value: sell_order.price * quantity

  # For issuance, value must be estimated
  # Option A: Use most recent marketplace price for credit class
  # Option B: Use governance-set reference price per credit type
  # Option C: Use KOI-sourced external market price
  issuance_value_method: "marketplace_reference"  # OQ-M013-2

  # For transfers, value uses same estimation as issuance
  transfer_value_method: "marketplace_reference"

  # For retirements, value at point of retirement
  retirement_value_method: "marketplace_reference"

  # Minimum fee floor (prevents zero-fee transactions on low-value credits)
  min_fee: 1 REGEN
```

#### Security Invariants
1. **Fee Conservation**: `fee_collected = sum(pool_distributions)` — no fee revenue lost or created
2. **Share Sum Unity**: `burn_share + validator_share + community_share + agent_share = 1.0`
3. **Non-Negative Fees**: All fee rates ≥ 0; fee amounts ≥ min_fee
4. **Rate Bound Safety**: Individual fee rates bounded `[0, 0.10]` (max 10%) to prevent governance attack
5. **Pool Isolation**: Each pool's balance is independent; no pool can draw from another without governance

#### Open Questions (for WG Resolution)

> **OQ-M013-2**: How is credit value determined for non-marketplace transactions (issuance, transfer, retirement)? Options: (A) most recent marketplace price for that credit class, (B) governance-set reference price per credit type, (C) external oracle via KOI. This is critical for fee calculation accuracy.

> **OQ-M013-3**: In what denomination should fees be collected and distributed?
>
> This is actually two linked questions: (A) what currency are fees collected in, and (B) what currency are rewards distributed in.
>
> **Collection side**: Most credit marketplace transactions today settle in stablecoins (USDC.grv, USDC.axl, EEUR), not REGEN. Options:
> - *REGEN-only collection*: Fee payer must acquire REGEN to pay fees. Simple to implement, but adds friction to non-REGEN transactions and creates forced buy pressure (which may or may not be desirable — see OQ-M013-5).
> - *Native denom collection*: Fees collected in whatever currency the transaction uses (USDC, EEUR, REGEN). Lower friction but creates a multi-denom treasury that's harder to manage.
> - *Hybrid*: Collect in native denom, auto-convert a portion to REGEN via DEX (e.g., Osmosis) for the Burn Pool, distribute remainder in the collected denom.
>
> **Distribution side**: Even if fees are collected in stablecoins, should rewards be distributed in stablecoins or converted to REGEN first?
> - *Distribute in stablecoins*: Contributors receive stable, predictable value. Immediately useful for operational expenses. No sell pressure on REGEN from recipients liquidating rewards. But doesn't incentivize growing REGEN holdings or participation in REGEN governance.
> - *Convert to REGEN and distribute*: Creates buy pressure supporting token price. Recipients who restake increase their governance weight and activity scores (M015). Aligns incentives around the REGEN token as a coordination mechanism. But forces recipients to bear REGEN price volatility, and those who need USD for expenses will sell, creating recurring sell pressure.
> - *Recipient choice*: Allow recipients to elect REGEN or stablecoin at claim time (with a modest bonus for choosing REGEN, e.g., 5-10% premium, funded from the Community Pool). Most flexible but most complex to implement.
>
> These choices have significant implications for REGEN's role in the ecosystem: is it primarily a *governance and coordination token* (favoring REGEN distribution) or a *unit of account for ecological services* (favoring stablecoin distribution)?

> **OQ-M013-4**: How should the Agent Infrastructure fund be governed? As a separate module account with its own spending authority, or as a tagged allocation within the Community Pool subject to governance proposals?

#### Implementation Notes
- **Module**: New `x/feerouter` module intercepting credit transaction messages
- **Storage**: `FeeConfig` (rates, shares, min_fee), `PoolBalance` per pool, `FeeRecord` per transaction
- **Events**: `EventFeeCollected`, `EventFeeDistributed`, `EventRateUpdated`
- **Integration**: Hooks into `x/ecocredit` message handlers for credit transactions
- **Migration**: Backward compatible; flat gas remains for non-credit transactions
- **Dependencies**: M012 (burn pool feeds mint/burn algorithm), M014 (validator fund feeds PoA compensation)

---

## PROTOCOL SPECIFICATION: M014

### Authority Validator Governance

#### Purpose
Transition from Proof of Stake (capital-weighted security) to Proof of Authority (contribution-weighted governance), replacing passive staking rewards with fee-based compensation and mission-aligned validator selection.

#### Design Philosophy
> "The validator set is currently unstable — sometimes dropping below 21 active validators — and all validators are operating at a loss. They participate for mission alignment, not profit." — Tokenomics WG, Jan 27 2026

Current PoS creates three structural mismatches:
1. **Security vulnerability**: Cost to disrupt drops when token price drops
2. **Misaligned incentives**: Passive holders receive equivalent rewards as active contributors
3. **Value disconnection**: Security is funded by inflation that dilutes all holders

PoA replaces this with a curated, compensated validator set whose authority derives from demonstrated contribution to the network's ecological mission.

#### Participants
| Role | Description | Governance Interaction |
|------|-------------|----------------------|
| Authority Validator | Approved network operator | Produces blocks, receives fee compensation |
| Validator Governance | Body managing validator set | Approves/removes validators (Layer 3) |
| Token Holders | $REGEN holders | Vote on constitutional validator set changes (Layer 4) |
| Agent (AGENT-004) | Validator Monitor agent | Tracks performance, recommends actions (Layer 1-2) |

#### Validator Composition
```yaml
authority_set:
  target_size: 15-21 validators  # OQ-M014-1: exact size
  composition:
    infrastructure_builders:
      minimum: 5
      criteria:
        - active development of verification systems, dMRV tools, or registry infrastructure
        - demonstrable code contributions to regen-ledger or ecosystem repos
        - operational history >= 6 months
      examples: "RND engineering team, KOI developers, dMRV tool builders"

    trusted_refi_partners:
      minimum: 5
      criteria:
        - established ReFi organization with public mission alignment
        - active participation in Regen ecosystem (credit origination, marketplace activity, or governance)
        - operational infrastructure meeting minimum uptime requirements (99.5%)
      examples: "ReFiDAO, Toucan, Kolektivo, regional partners"

    ecological_data_stewards:
      minimum: 5
      criteria:
        - organizations attesting to ecological data quality
        - active participation in credit class development or verification
        - domain expertise in ecology, land management, or environmental science
      examples: "Verification bodies, research institutions, land steward cooperatives"
```

#### Validator Lifecycle
```
States: {CANDIDATE, APPROVED, ACTIVE, PROBATION, REMOVED, TERM_EXPIRED}

CANDIDATE → APPROVED
  trigger: validator_governance.approve(candidate_application)
  guard: meets_composition_criteria, slot_available, no_active_conflicts
  action: add to approved set, schedule activation

APPROVED → ACTIVE
  trigger: node_operational AND bonded_minimum_stake
  guard: infrastructure_verified (uptime test, key management audit)
  action: add to active validator set, begin block production

ACTIVE → PROBATION
  trigger: performance_below_threshold OR governance_concern_raised
  guard: AGENT-004 performance report OR governance motion
  action: issue warning, set probation_period(30 days), reduce compensation

PROBATION → ACTIVE
  trigger: performance_restored AND probation_period_elapsed
  guard: AGENT-004 confirms restoration
  action: restore full compensation

PROBATION → REMOVED
  trigger: probation_period_elapsed AND performance_not_restored
  guard: validator_governance.confirm_removal()
  action: remove from active set, unbond stake, archive performance record

ACTIVE → TERM_EXPIRED
  trigger: term_end_date_reached
  guard: none
  action: initiate re-application or graceful exit

TERM_EXPIRED → CANDIDATE
  trigger: validator.reapply()
  action: enter re-evaluation process (streamlined for incumbents with good records)
```

#### Compensation Model
```yaml
validator_compensation:
  source: validator_fund (from M013 fee routing)
  model: "fixed + performance"

  base_compensation:
    method: equal_share
    formula: validator_fund_balance / active_validator_count / period
    # All active validators receive equal base compensation
    # Rationale: contribution to network is roughly equal per validator

  performance_bonus:
    enabled: true  # OQ-M014-2
    metrics:
      - uptime_score: weight 0.4  # blocks signed / blocks expected
      - governance_participation: weight 0.3  # votes cast / proposals
      - ecosystem_contribution: weight 0.3  # measured by AGENT-004
    bonus_pool: 10% of total validator fund
    distribution: proportional to composite performance score

  term_structure:
    term_length: 12 months  # 1 year
    compensation_review: quarterly
    early_exit: allowed with 30-day notice; forfeits current quarter bonus
```

#### Governance Parameters
| Parameter | Initial Value | Governance Authority | Rationale |
|-----------|--------------|---------------------|-----------|
| `max_validators` | 21 | Layer 4 (Constitutional) | Fundamental network structure |
| `min_validators` | 15 | Layer 4 | Security minimum |
| `term_length` | 12 months | Layer 3 (Human-in-Loop) | Significant governance decision |
| `min_uptime` | 99.5% | Layer 2 (Agentic + Oversight) | Operational parameter |
| `probation_period` | 30 days | Layer 2 | Operational parameter |
| `composition_ratios` | 5/5/5 minimum per category | Layer 3 | Structural governance decision |
| `performance_bonus_share` | 10% of validator fund | Layer 2 | Operational adjustment |

#### Security Invariants
1. **Composition Guarantee**: Active set must maintain minimum representation from each category
2. **Byzantine Tolerance**: Active set > 3f + 1 where f = maximum tolerated Byzantine validators (standard Tendermint)
3. **No Self-Approval**: Existing validators cannot unilaterally approve new validators; requires governance process
4. **Term Accountability**: No validator serves beyond term without re-approval
5. **Compensation Cap**: Total validator compensation ≤ validator_fund balance; no inflationary fallback
6. **Graceful Degradation**: If active set drops below `min_validators`, trigger emergency governance escalation (P0)

#### Open Questions (for WG Resolution)

> **OQ-M014-1**: Exact validator set size. The WG discusses 15-21. What is the right target, and should it be fixed or allowed to float within the range based on qualified applicants?

> **OQ-M014-2**: Should a performance bonus exist, or should all validators receive equal compensation? Equal compensation is simpler and reduces gaming; performance bonuses incentivize operational excellence.

> **OQ-M014-3**: How is "trusted partner" status determined during the initial transition? Who constitutes the seed set of authority validators? Is this bootstrapped by existing active validators who meet criteria, or selected by governance vote?

> **OQ-M014-4**: PoA socialization timeline. Gregory noted PoA was first socialized ~18 months ago (mid-2024). What is the target activation date? The Economic Reboot Roadmap suggests Q3-Q4 2026 for pilot, 2027 for full migration.

> **OQ-M014-5**: What happens to delegated REGEN when PoS is disabled? Staked tokens must be unbonded gracefully. The transition plan should include a mandatory unbonding period with clear communication.

#### Implementation Notes
- **Module**: Modify `x/staking` parameters + new `x/authority` module for validator governance
- **Storage**: `AuthorityValidator` (address, category, term_start, term_end, performance), `ValidatorApplication`, `PerformanceRecord`
- **Events**: `EventValidatorApproved`, `EventValidatorRemoved`, `EventTermExpired`, `EventCompensationDistributed`
- **Migration**: Gradual transition — PoS and PoA can coexist during migration window
  - Phase 1: Reduce active set to qualified validators via governance
  - Phase 2: Enable authority module with curated set
  - Phase 3: Disable PoS inflation module
- **Dependencies**: M013 (validator fund provides compensation), M012 (inflation disabled)
- **Agent Integration**: AGENT-004 Validator Monitor tracks performance metrics and generates reports

---

## PROTOCOL SPECIFICATION: M015

### Contribution-Weighted Rewards

#### Purpose
Replace passive staking rewards with an activity-based distribution system where participants earn from the Community Pool proportional to their ecological and governance contributions, creating a direct link between network value creation and token rewards.

#### Design Philosophy
> "The $REGEN token should function primarily as a mechanism of responsibility and conditional access for a limited set of committed contributors and regional partners — with dynamic distribution strictly constrained by real network revenue." — Tokenomics WG, Jan 27 2026

This mechanism shifts from "lock tokens → earn yield" to "create ecological value → earn proportional rewards." Investment upside emerges as a consequence of sound economic design, not speculative dynamics.

#### Participants
| Role | Description | Reward Source |
|------|-------------|--------------|
| Credit Purchaser/Retirer | Buys or retires ecological credits | Proportional to credit value transacted |
| Platform Operator | Facilitates transactions (broker, marketplace) | Facilitation credit for enabling transactions |
| Long-Term Holder | Commits to stability tier (optional) | Fixed 6% annual return (from Community Pool) |
| Governance Participant | Votes, proposes, deliberates | Governance activity multiplier |

#### Reward Calculation

```
For each distribution period (epoch):

  community_pool_inflow = community_share × total_fees_collected (from M013)

  # 1. Stability Tier Allocation (first priority)
  stability_allocation = min(
    sum(stability_tier_commitments × 0.06 / periods_per_year),
    community_pool_inflow × max_stability_share
  )
  max_stability_share = 0.30  # At most 30% of Community Pool goes to stability tier

  # 2. Remaining Pool for Activity-Based Distribution
  activity_pool = community_pool_inflow - stability_allocation

  # 3. Activity Scoring
  For each participant p in period:
    activity_score[p] = sum(
      credit_purchase_value[p] × weight_purchase,
      credit_retirement_value[p] × weight_retirement,
      platform_facilitation_value[p] × weight_facilitation,
      governance_votes_cast[p] × weight_governance,
      proposals_submitted[p] × weight_proposals
    )

  # 4. Distribution
  reward[p] = activity_pool × (activity_score[p] / sum(activity_score))
```

#### Activity Weights
| Activity | Weight | Rationale |
|----------|--------|-----------|
| Credit Purchase | 0.30 | Primary demand signal; directs resources toward ecological outcomes |
| Credit Retirement | 0.30 | Terminal impact event; strongest ecological commitment |
| Platform Facilitation | 0.20 | Enables ecosystem growth; rewards infrastructure builders |
| Governance Voting | 0.10 | Maintains governance participation incentive |
| Proposal Submission | 0.10 | Rewards initiative; requires reaching quorum to earn credit (see note) |

**Proposal submission anti-gaming**: To prevent spam proposals from inflating activity scores, proposal submission credit is conditional:
- Proposals reaching quorum and passing: full 0.10 weight
- Proposals reaching quorum but failing: 50% weight (0.05 effective)
- Proposals failing to reach quorum: 0 weight

This leverages the existing x/gov deposit mechanism as natural friction.

#### Stability Tier

```yaml
stability_tier:
  description: >
    Optional commitment mechanism for long-term holders who want predictable
    returns without active participation. Holders lock REGEN for a minimum
    period and receive a fixed annual return from the Community Pool.
  annual_return: 6%  # OQ-M015-1
  min_lock_period: 6 months
  max_lock_period: 24 months
  early_exit_penalty: 50% of accrued rewards forfeited
  cap: 30% of Community Pool inflow per period
  overflow_handling: >
    If stability tier demand exceeds cap, new commitments are queued
    and filled in order when capacity becomes available.
```

#### Token Flows
```
┌──────────────────────────────────────────────────────────────────────────┐
│                    COMMUNITY POOL (from M013)                            │
│                                                                          │
│    community_pool_inflow (per period)                                    │
│          │                                                               │
│          ├──────────────────────────────────┐                            │
│          │ Stability Tier (up to 30%)       │ Activity Pool (≥70%)       │
│          ▼                                  ▼                            │
│    ┌──────────────┐                   ┌──────────────┐                   │
│    │ Fixed 6%     │                   │ Score-Based  │                   │
│    │ Annual to    │                   │ Distribution │                   │
│    │ Locked       │                   │              │                   │
│    │ Holders      │                   │ Purchase 30% │                   │
│    └──────────────┘                   │ Retire   30% │                   │
│                                       │ Platform 20% │                   │
│                                       │ Govern.  20% │                   │
│                                       └──────────────┘                   │
│                                                                          │
│    GOVERNANCE-DIRECTED SPENDING                                          │
│    (Separate from automatic distribution — via proposals as today)       │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘
```

#### State Transitions
```
States: {INACTIVE, TRACKING, DISTRIBUTING}

INACTIVE → TRACKING
  trigger: governance.approve(m015_activation_proposal)
  guard: M013 active (Community Pool receiving fee revenue)
  action: begin recording activity scores per address per period

TRACKING → DISTRIBUTING
  trigger: tracking_period_complete(3 months) AND sufficient_data
  guard: activity_score data validated, no anomalies detected
  action: begin automatic distribution at end of each period
  note: 3-month tracking-only period allows calibration before payouts

Stability Tier Lifecycle:
  UNCOMMITTED → COMMITTED
    trigger: holder.commit_stability(amount, lock_period)
    guard: amount >= 100 REGEN, lock_period >= 6 months
    action: lock tokens, begin accruing 6% annual return

  COMMITTED → MATURED
    trigger: lock_period_expired
    action: unlock tokens + accrued rewards

  COMMITTED → EARLY_EXIT
    trigger: holder.exit_early()
    action: unlock tokens, forfeit 50% accrued rewards
```

#### Security Invariants
1. **Revenue Constraint**: Total distributions per period ≤ Community Pool inflow for that period (no deficit spending)
2. **Stability Cap**: Stability tier allocation ≤ 30% of Community Pool inflow
3. **Activity Integrity**: Activity scores derived from on-chain transactions only; no self-reported activity
4. **Sybil Resistance**: Activity weights prevent wash trading from being profitable (fees paid > rewards earned for circular transactions due to M013 fee extraction)
5. **No Double-Counting**: Each transaction counted once for reward scoring. Marketplace trades: credit is assigned to the **buyer** (as the demand signal). Seller activity is captured via issuance and facilitation scores, not trade scores. Credit retirements: credit is assigned to the **retirer**.
6. **Governance Override**: Distribution parameters changeable via Layer 3 governance at any time

#### Open Questions (for WG Resolution)

> **OQ-M015-1**: Is 6% the right stability tier return? This must be sustainable from Community Pool inflows. If monthly fee revenue is $50K and 30% goes to stability, that supports ~$180K/year in stability returns — implying a max ~$3M in committed stability deposits at 6%. Is this realistic?

> **OQ-M015-2**: Should platform facilitation credit use a metadata field on transactions to identify the facilitating platform, or should it be determined by the originating API key / registered dApp address?

> **OQ-M015-3**: How does this interact with the existing Community Pool spend proposal process (GOV-004)? The automatic distribution (M015) is separate from governance-directed spending. What share of the Community Pool goes to automatic distribution vs. remaining available for proposals?

> **OQ-M015-4**: What prevents a participant from gaming the system by making many small transactions to inflate their activity score? The M013 fee on each transaction provides natural friction, but are additional anti-gaming measures needed (e.g., minimum transaction size for reward eligibility)?

#### Implementation Notes
- **Module**: New `x/rewards` module or extend `x/distribution`
- **Storage**: `ActivityScore` per address per period, `StabilityCommitment`, `DistributionRecord`, `RewardConfig`
- **Events**: `EventActivityRecorded`, `EventRewardDistributed`, `EventStabilityCommitted`, `EventStabilityMatured`
- **Computation**: Activity score aggregation at period boundaries; may use off-chain indexer with on-chain anchoring for gas efficiency
- **Dependencies**: M013 (Community Pool inflow), M014 (PoA active; staking rewards disabled)
- **Agent Integration**: AGENT-003 Market Monitor can track activity patterns and flag anomalies

---

## Summary

| Mechanism | Type | Complexity | Priority | Dependencies | WG Consensus Level |
|-----------|------|------------|----------|--------------|-------------------|
| M012 (Dynamic Supply) | New | High | Critical | M013, M014 | High — core formula agreed; parameters need modeling |
| M013 (Fee Routing) | New | Medium | Critical | x/ecocredit | High — concept agreed; distribution split, burn debate, and fee denomination need resolution |
| M014 (PoA Governance) | New | High | Critical | M013 | Medium — direction agreed; composition criteria need formalization |
| M015 (Contribution Rewards) | New | High | Medium | M013, M014 | Medium — concept emerging; activity weights need calibration |

### Implementation Sequence

```
Phase 1 (Q1-Q2 2026): M013 (Fee Routing) — can be deployed independently
     │
     ↓
Phase 2 (Q3-Q4 2026): M014 (PoA) — requires M013 for validator compensation
                       M012 (Dynamic Supply) — requires M013 for burn input
     │
     ↓
Phase 3 (2027):        M015 (Contribution Rewards) — requires M013 + M014
```

### Cross-Mechanism Dependencies
```
M013 (Fee Routing)
  ├── feeds → M012 Burn Pool (supply reduction)
  ├── feeds → M014 Validator Fund (PoA compensation)
  ├── feeds → M015 Community Pool (activity rewards)
  └── feeds → Agent Infrastructure Fund (agent ops)

M014 (PoA)
  ├── requires → M013 (compensation source)
  ├── enables → M012 (removing PoS inflation prerequisite)
  └── monitored by → AGENT-004 (Validator Monitor)

M012 (Dynamic Supply)
  ├── requires → M013 (burn input)
  ├── requires → M014 (inflation disabled)
  └── monitored by → AGENT-003 (Market Monitor)

M015 (Contribution Rewards)
  ├── requires → M013 (Community Pool inflow)
  ├── requires → M014 (staking rewards replaced)
  └── monitored by → AGENT-003 (Market Monitor)
```

---

*This document extends the Regen Network Agentic Tokenomics specification framework. It captures the Tokenomics Working Group's evolving consensus as of February 2026, with open questions explicitly flagged for WG resolution.*
