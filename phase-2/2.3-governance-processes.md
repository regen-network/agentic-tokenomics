# Phase 2.3: Governance Process Formalization

## Overview

This specification formalizes governance processes for the agentic tokenomics system, mapping existing governance patterns (from 61+ historical proposals) to automated decision frameworks.

> **PoA Transition Note (M014)**: All governance processes below are specified for the current PoS model. When M014 (Authority Validator Governance) activates, the voting model transitions from capital-weighted to dual-track (authority validator + contribution-weighted holder). Each process section includes a `poa_impact` annotation describing specific changes. The transition is designed to be backward-compatible: processes work under both models, with PoA tally logic activated via governance proposal.

---

## Governance Taxonomy

Based on historical proposal analysis:

| Category | Count | Pass Rate | Avg Turnout | Automation Potential |
|----------|-------|-----------|-------------|---------------------|
| Parameter Change | 8 | 100% | 65% | High (Layer 1-2) |
| Software Upgrade | 7 | 100% | 68% | Medium (Layer 2) |
| Credit Type/Class | 12 | 92% | 58% | High (Layer 2) |
| Currency Allow List | 6 | 83% | 62% | High (Layer 1-2) |
| Community Pool Spend | 8 | 88% | 55% | Low (Layer 3) |
| Text/Signalling | 10 | 90% | 52% | N/A (informational) |
| Constitutional | 3 | 100% | 72% | None (Layer 4) |

---

## GOV-001: Credit Class Creator Allowlist

```yaml
process_id: GOV-001
name: Credit Class Creator Allowlist
category: Registry Governance

stages:
  1_application_submission:
    trigger: External form OR MsgProposeClassCreator
    inputs:
      required: [applicant_address, organization_name, methodology_iri, credit_type]
      optional: [supporting_documents, endorsements]
    validation:
      automated: [address_valid, credit_type_exists, deposit_sufficient]
      agent_assisted: [methodology_review, duplicate_check, reputation_lookup]

  2_community_discussion:
    duration: 7-14 days
    venue: forum.regen.network
    automation:
      - create_forum_post
      - monitor_sentiment
      - answer_factual_questions
      - compile_feedback

  3_proposal_submission:
    automation:
      if agent_score >= 0.8 AND sentiment_positive > 0.6:
        action: auto_submit_proposal (Layer 2)
      elif agent_score >= 0.6:
        action: recommend_to_committee (Layer 3)
      else:
        action: flag_for_revision

  4_voting_period:
    duration: 7 days
    automation:
      - publish_voting_guide
      - track_progress
      - send_reminders
      - alert_if_quorum_at_risk

  5_execution:
    trigger: proposal_passed
    automation:
      - add_to_allowlist (on-chain)
      - create_koi_object
      - notify_applicant
      - update_dashboard

decision_framework:
  hard_requirements:
    - valid_credit_type: true
    - methodology_complete: >= 0.7
    - no_duplicate: similarity < 0.85
  soft_requirements:
    - positive_sentiment: > 0.5
    - agent_recommendation: APPROVE or CONDITIONAL

poa_impact:
  voting_model: >
    Under M014, credit class allowlist votes use the dual-track tally model
    (see M001-ENH §PoA Impact). Authority validators vote with equal weight;
    token holders participate with contribution-weighted scores.
    Ecological data steward validators (M014 category 3) may receive advisory
    priority for registry-specific decisions (OQ-M001-1).
  agent_pre_screening: >
    No change — AGENT-001 pre-screening operates independently of the voting model.
    Agent score still gates whether proposals advance to VOTING stage.
  governance_layer: >
    GOV-001 remains Layer 2-3. Under PoA, agent high-confidence approvals
    (score >= 0.85) could potentially use a streamlined validator-only fast track
    (OQ-M001-2), reducing the governance burden on token holders for low-risk proposals.
```

---

## GOV-002: Currency Allow List Addition

```yaml
process_id: GOV-002
name: Currency Allow List Addition
category: Marketplace Governance

stages:
  1_application:
    inputs: [bank_denom, display_denom, exponent, source_chain, bridge_mechanism]
    validation:
      automated: [denom_format, not_already_listed, ibc_channel_active]

  2_criteria_evaluation:
    framework: Proposal #13 Criteria
    automation:
      - evaluate_is_currency: [stablecoin_audit, market_cap, volume]
      - evaluate_ibc_compatible: [channel_exists, active, relayers]
      - evaluate_liquidity_stability: [volatility, depth, listings]
      - evaluate_onboarding: [fiat_onramps, wallet_support, docs]
      - evaluate_ethical_alignment: [energy, governance, use_cases]

    scoring:
      composite >= 0.8: STRONG_APPROVE
      composite >= 0.6: APPROVE
      composite >= 0.4: CONDITIONAL
      else: REJECT

  3_community_review:
    duration: 5 days minimum

  4_proposal_submission:
    message_type: AllowDenomProposal
    automation:
      STRONG_APPROVE: auto_submit
      else: submit_with_committee_approval

  5_execution:
    automation: add_denom_to_allowlist (auto-execute)

poa_impact:
  voting_model: >
    Under M014, currency allowlist additions use dual-track tally.
    For STRONG_APPROVE scores (composite >= 0.8), the auto_submit path
    may be strengthened: validator-only fast track with 48h window.
  fee_implications: >
    Currency additions directly affect M013 fee routing, since new
    trading pairs generate new fee flows. Authority validators who are
    infrastructure builders (M014 category 1) should assess IBC relay
    reliability as part of their vote.
  governance_layer: "No change — remains Layer 1-2."
```

---

## GOV-003: Software Upgrade Proposal

```yaml
process_id: GOV-003
name: Software Upgrade Proposal
category: Technical Governance

stages:
  1_development:
    ownership: Core development team
    outputs: [release_candidate, changelog, migration_guide, security_audit]

  2_testnet_validation:
    duration: 7-14 days
    automation:
      - deploy_to_testnet
      - run_integration_tests
      - run_migration_tests
      - monitor_stability

  3_proposal_drafting:
    automation:
      - generate_proposal_summary
      - calculate_upgrade_height
      - compile_binary_checksums
      - generate_upgrade_instructions

  4_community_review:
    duration: 7 days minimum
    automation:
      - publish_technical_summary
      - answer_questions
      - track_validator_readiness

  5_voting:
    duration: 7 days
    considerations:
      - validators_must_be_ready_before_voting_yes

  6_execution:
    trigger: upgrade_height_reached
    automation:
      - chain_halts_automatically
      - cosmovisor_binary_switch
      - post_upgrade_monitoring

go_criteria:
  - testnet_stable: >= 48h without issues
  - validator_readiness: >= 67% confirmed
  - security_review: passed
  - community_consensus: no blocking concerns

poa_impact:
  voting_model: >
    Software upgrades are especially affected by PoA. Under M014, the curated
    validator set is smaller (15-21 vs current ~75), so validator readiness
    checks become simpler but more critical — each validator's readiness matters
    more. The 67% readiness threshold should be raised to 80%+ for PoA.
  validator_readiness: >
    Authority validators are compensated (M013 validator fund) and have explicit
    uptime SLAs (99.5%). Failure to upgrade on time becomes a performance
    violation that can trigger probation (M014 lifecycle). This creates stronger
    alignment than current PoS where validators may simply go offline.
  governance_layer: >
    Major upgrades remain Layer 3. Consensus mechanism changes (e.g., the PoA
    activation itself) are Layer 4 (Constitutional). Minor upgrades may qualify
    for Layer 2 fast-track under PoA if AGENT-004 confirms all validators ready.
```

---

## GOV-004: Community Pool Spend Proposal

```yaml
process_id: GOV-004
name: Community Pool Spend Proposal
category: Treasury Governance
governance_layer: Layer 3 (human-in-loop always)

stages:
  1_application:
    inputs:
      required: [recipient, amount, title, description, milestones, team_background]
      optional: [previous_grants, endorsements]

  2_due_diligence:
    automation:
      - verify_recipient_identity
      - analyze_budget_reasonableness
      - check_previous_grant_performance
      - assess_network_alignment
      - calculate_pool_impact
    human_requirements:
      - grants_committee_review (if > 100k REGEN)
      - subject_matter_expert_input

  3_community_discussion:
    duration: 14 days minimum (for significant amounts)

  4_proposal_submission:
    message_type: CommunityPoolSpendProposal
    automation:
      - format_proposal
      - calculate_deposit
      - submit_if_committee_approved

  5_voting:
    duration: 7 days

  6_execution:
    automation:
      - transfer_funds (auto-execute)
      - create_grant_tracking_record
      - schedule_milestone_check_ins

  7_milestone_monitoring:
    automation:
      - reminder_before_due
      - verify_completion_evidence
      - publish_progress_reports
      - flag_missed_milestones

amount_thresholds:
  small: < 50k REGEN → Standard process
  medium: 50k-250k REGEN → Committee review required
  large: > 250k REGEN → Extended discussion + supermajority recommended

poa_impact:
  pool_inflow_change: >
    Under M013+M015, the Community Pool inflow source shifts from block reward
    inflation to real fee revenue. This makes Community Pool spending directly
    constrained by network economic activity rather than token dilution.
    Spend proposals should include revenue impact assessment: "What is this
    grant's expected return to network fee revenue?"
  m015_interaction: >
    Community Pool now serves dual purposes: (1) M015 automatic activity-based
    distribution and (2) governance-directed spending (existing GOV-004 process).
    The governance-available share is Community Pool inflow minus M015 automatic
    distributions. Amount thresholds may need recalibration based on actual fee
    revenue levels.
  governance_layer: "No change — remains Layer 3 (human-in-loop always)."
```

---

## GOV-005: Parameter Change Proposal

```yaml
process_id: GOV-005
name: Parameter Change Proposal
category: System Governance

stages:
  1_parameter_monitoring:
    trigger: continuous
    automation:
      - monitor_network_metrics
      - detect_parameter_misalignment
      - model_parameter_change_impact
      - generate_recommendation_if_significant

  2_recommendation_generation:
    automation:
      - analyze_current_parameter
      - model_proposed_change_impact
      - compare_to_peer_networks
      - generate_recommendation_report

  3_community_review:
    duration: 7 days

  4_proposal_submission:
    message_type: ParameterChangeProposal
    governance_layer:
      trivial_changes: Layer 2
      significant_changes: Layer 3

  5_execution:
    automation:
      - parameter_updated (auto-execute)
      - monitor_post_change_metrics
      - alert_if_unexpected_effects

parameter_categories:
  staking:
    parameters: [MaxValidators, UnbondingTime, MinCommissionRate]
    authority: Layer 3
    poa_status: >
      DEPRECATED post-M014. MaxValidators replaced by M014 max_validators/min_validators
      (Layer 4). UnbondingTime and MinCommissionRate become irrelevant as inflation-based
      staking is disabled. Legacy parameters retained during transition period.

  authority_validators:  # NEW — replaces staking parameters under PoA
    parameters: [max_validators, min_validators, term_length, min_uptime,
                 probation_period, composition_ratios, performance_bonus_share]
    authority: "Layer 2-4 (see M014 governance parameters table)"
    note: "Structural parameters (set size, composition) are Layer 4; operational parameters (uptime, probation) are Layer 2."

  governance:
    parameters: [VotingPeriod, Quorum, Threshold]
    authority: Layer 4
    poa_status: >
      Modified post-M014. New parameters added: validator_track_weight (default 60%),
      holder_track_weight (default 40%), validator_quorum, holder_quorum.
      Legacy Quorum and Threshold become the holder_track defaults.

  fee_routing:  # NEW — M013 parameters
    parameters: [issuance_fee_rate, transfer_fee_rate, retirement_fee_rate,
                 trade_fee_rate, burn_share, validator_share, community_share,
                 agent_infra_share]
    authority: Layer 2-3
    note: "Fee rates are Layer 3 (significant economic impact). Distribution shares are Layer 2 (operational tuning within agreed ranges)."

  rewards:  # NEW — M015 parameters
    parameters: [weight_purchase, weight_retirement, weight_facilitation,
                 weight_governance, stability_tier_return, max_stability_share]
    authority: Layer 2-3
    note: "Activity weights are Layer 2 (operational calibration). Stability tier return and cap are Layer 3 (economic impact on holders)."

  ecocredit:
    parameters: [ClassFee, AllowedClassCreators]
    authority: Layer 2-3

  marketplace:
    parameters: [AllowedDenoms, FeeStructure]
    authority: Layer 2
    poa_status: "FeeStructure subsumed by M013 fee routing parameters."
```

---

## Governance Layer Decision Matrix

**Pre-PoA (current model)**:
| Process | Layer 1 | Layer 2 | Layer 3 | Layer 4 |
|---------|---------|---------|---------|---------|
| Credit Class Allowlist | Pre-screening | Proposal submission | Final approval | Mechanism change |
| Currency Allow List | Criteria eval | Standard additions | Novel currencies | Criteria change |
| Software Upgrade | Testing | Minor upgrades | Major upgrades | Consensus changes |
| Community Pool | Due diligence | Small grants | Large grants | Treasury mechanism |
| Parameter Change | Monitoring | Minor params | Major params | Governance params |

**Post-PoA (after M014 activation)**:
| Process | Layer 1 | Layer 2 | Layer 3 | Layer 4 |
|---------|---------|---------|---------|---------|
| Credit Class Allowlist | Pre-screening | High-confidence fast track (OQ-M001-2) | Dual-track vote | Registry mechanism change |
| Currency Allow List | Criteria eval | Auto-submit + validator fast track | Novel currencies | Criteria change |
| Software Upgrade | Testing, AGENT-004 readiness | Minor upgrades (all validators ready) | Major upgrades | Consensus/PoA changes |
| Community Pool | Due diligence | Small grants (M015 auto) | Large grants (dual-track vote) | Treasury mechanism |
| Parameter Change | Monitoring | M013/M015 operational params | M014 operational params | Validator set structure, tally weights |
| **Validator Set** (new) | AGENT-004 monitoring | Performance, probation | Admission/removal | Set size, composition ratios |
| **Fee Routing** (new) | Rate monitoring | Distribution shares | Fee rates | Fee mechanism changes |
| **Contribution Rewards** (new) | Activity tracking | Activity weights | Stability tier params | Reward mechanism changes |

---

## Escalation Procedures

```yaml
layer_1_to_layer_2:
  triggers:
    - agent_confidence < 0.7
    - anomaly_detected
    - first_time_pattern
  action: Add human review window (24-72h)

layer_2_to_layer_3:
  triggers:
    - human_override_invoked
    - community_contention > 0.3
    - high_value_decision
  action: Require explicit committee/community approval

layer_3_to_layer_4:
  triggers:
    - constitutional_impact
    - precedent_setting
    - >67% required
  action: Extended discussion, supermajority vote

emergency_escalation:
  triggers:
    - security_vulnerability
    - consensus_failure
    - significant_fund_loss_risk
    - validator_set_below_minimum (PoA-specific)
  action:
    - Halt affected processes
    - Notify core team immediately
    - Coordinate emergency response
    - If validator_set_below_minimum: trigger M014 §Graceful Degradation
```

---

## PoA Governance Transition Plan

The transition from PoS to PoA governance affects all five governance processes. This section summarizes the transition sequence and open questions.

### Transition Phases

```
Phase 0 (Pre-M014): Current PoS governance — all GOV-001 through GOV-005 as specified above.

Phase 1 (M013 Active): Fee routing enabled. Community Pool begins receiving fee revenue
  alongside existing inflation. No governance process changes yet.

Phase 2 (M014 Active): Authority validator set operational.
  - Staking parameters deprecated (GOV-005 staking category → authority_validators)
  - Software upgrades (GOV-003) use smaller validator set; readiness threshold raised to 80%
  - AGENT-004 begins monitoring authority validators
  - Governance tally still uses legacy PoS model during overlap period

Phase 3 (Dual-Track Tally Active): Governance proposal activates new tally logic.
  - All GOV-001 through GOV-005 switch to dual-track voting
  - Validator track (60%) + holder track (40%) as specified in M001-ENH §PoA Impact
  - Layer 2 fast-track enabled for high-confidence agent decisions

Phase 4 (M015 Active): Contribution-weighted holder voting.
  - Holder track switches from 1-token-1-vote to contribution-weighted scores
  - Requires 3-month M015 tracking period to establish activity baselines
  - Community Pool spending (GOV-004) now competes with M015 auto-distribution
```

### Key Open Questions for Governance Transition

> **OQ-GOV-POA-1**: Should the dual-track tally weights (60/40) be the same for all governance processes, or should different processes have different splits? E.g., software upgrades might weight validators 80/20 since validators must execute the upgrade.

> **OQ-GOV-POA-2**: During the overlap period (Phase 2), how long should both PoS and PoA governance models run in parallel? Should there be a formal "graduation" criteria for switching to dual-track tally?

> **OQ-GOV-POA-3**: How should the existing ~75 validators' governance participation be handled during transition? Validators not selected for the authority set lose block production rights but retain token holdings — their votes still count in the holder track.
